{
    "version": "4.8.5.0",
    "homepage": "https://www.todesk.com/",
    "description": "ToDesk远程桌面软件-免费安全流畅的远程连接电脑手机",
    "license": {
        "identifier": "Proprietary",
        "url": "https://www.todesk.com/licence.html"
    },
    "url": "https://dl.todesk.com/irrigation/ToDesk_4.8.5.0.exe#/dl.7z",
    "hash": "ce52067e91f67103c46fb21307f50464bce7ca55835a4a41715ff8e3a0fed87a",
    "pre_install": [
        "if (!(Test-Path \"$persist_dir\\config.ini\") -or !(Get-Item \"$persist_dir\\config.ini\").Length) {",
        "New-Item \"$persist_dir\\config.ini\" -ItemType File -Force -ErrorAction SilentlyContinue | Out-Null",
        "@\"",
        "[ConfigInfo]",
        "passUpdate=0",
        "PrivateScreenLockScreen=0",
        "autoLockScreen=0",
        "language=936",
        "isOpenTempPass=1",
        "isAdmissionControl=1",
        "WeakPasswordTip=0",
        "isUpdate=0",
        "PresetDialogShowCount=0",
        "AuthMode=0",
        "autoupdate=0",
        "isexpand=0",
        "UpdateTempPassDefault=1",
        "Version=$version",
        "\"@ | Set-Content \"$persist_dir\\config.ini\"",
        "}"
    ],
    "post_install": "Remove-Item \"$dir\\`$PLUGINSDIR\",\"$dir\\uninst.exe\" -Force -Recurse",
    "pre_uninstall": [
        "$bucket = $install.bucket",
        ". \"$bucketsdir\\$bucket\\bin\\utils.ps1\"",
        "Confirm-Action",
        "Stop-App",
        "Remove-Item \"$env:LOCALAPPDATA\\ToDesk\" -Force -Recurse -ErrorAction SilentlyContinue | Out-Null",
        "Write-Host (\"`nDeleting $env:LOCALAPPDATA\\ToDesk ... \") -f DarkGray -NoNewline"
    ],
    "shortcuts": [
        [
            "ToDesk.exe",
            "ToDesk"
        ]
    ],
    "persist": [
        "Logs",
        "config.ini"
    ],
    "checkver": {
        "url": "https://update.todesk.com/windows/uplog.html",
        "regex": ">([\\d.]+)</div>"
    },
    "autoupdate": {
        "url": "https://dl.todesk.com/irrigation/ToDesk_$version.exe#/dl.7z"
    }
}
